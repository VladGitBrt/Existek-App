<div *ngIf="login === true">
  <div class="login-container">
    <form class="email-form">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          [formControl]="emailFormControl"
          [errorStateMatcher]="matcher"
          placeholder="example@mail.com"
        />
        <mat-error
          *ngIf="
            emailFormControl.hasError('email') &&
            !emailFormControl.hasError('required')
          "
        >
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </form>
    <mat-form-field appearance="fill">
      <mat-label>Enter your password</mat-label>
      <input
        matInput
        [formControl]="passFormControl"
        [type]="hide ? 'password' : 'text'"
      />
      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
    <div class="btn-field">
      <button mat-button (click)="registerFrame()">Register</button>
      <button
        mat-button
        (click)="loginUser(emailFormControl.value, passFormControl.value)"
      >
        Login
      </button>
    </div>
  </div>
</div>
<div *ngIf="register === true">
  <div class="register-container">
    <mat-form-field hintLabel="Max 10 characters" appearance="fill">
      <mat-label>Name</mat-label>
      <input
        matInput
        [formControl]="nameFormControl"
        #input
        maxlength="10"
        placeholder="Your nickname"
      />
      <mat-hint align="end">{{ input.value?.length || 0 }}/10</mat-hint>
    </mat-form-field>
    <form class="email-form">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          [formControl]="emailFormControl"
          [errorStateMatcher]="matcher"
          placeholder="example@mail.com"
        />
        <mat-error
          *ngIf="
            emailFormControl.hasError('email') &&
            !emailFormControl.hasError('required')
          "
        >
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </form>
    <mat-form-field appearance="fill">
      <mat-label>Enter your password</mat-label>
      <input
        [formControl]="passFormControl"
        matInput
        [type]="hide ? 'password' : 'text'"
      />
      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Re-Enter your password</mat-label>
      <input
        [formControl]="repassFormControl"
        matInput
        [type]="hide ? 'password' : 'text'"
      />
      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
    <button
      mat-button
      (click)="
        registerUser(
          emailFormControl.value,
          passFormControl.value,
          repassFormControl.value,
          nameFormControl.value
        )
      "
    >
      Register
    </button>
  </div>
</div>
